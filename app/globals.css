:root{
  --green:#0F766E;
  --green-hover:#0D615B;
  --green-soft:#CCFBF1;
  --text:#0F172A;
  --text-muted:#7A8CA3;
  --border:#E2E8F0;
  --ink:#0A0F1C;
  --ink-soft:#1E293B;
  --radius:18px;
  --shadow:0 12px 22px rgba(15,23,42,0.08), 0 2px 6px rgba(15,23,42,0.05);
  --card-surface:linear-gradient(180deg, rgba(255,255,255,0.98), rgba(236,253,245,0.92));
  --card-border:1px solid rgba(15,118,110,0.2);
  --star-fill:#22C55E;
  --star-empty:#E5E7EB;

  --orange:#16A34A;
  --beige:#ECFDF5;
  --brown:#1F2937;

  --maxw:1280px;
  --feature-minw:600px;
  --feature-gap:40px;
  --feature-pad:60px;
  --feature-minh:300px;

  --gold:#F4C95D;
  --gold-strong:#FBBF24;
  --neon-pink:#F472B6;
  --neon-blue:#38BDF8;
  --neon-green:#34D399;
}

*{ box-sizing:border-box }

html,body{
  margin:0;
  background:#F8FAFC;
  background-image:
    radial-gradient(1200px 520px at 0% -10%, rgba(15,118,110,0.12), transparent 60%),
    radial-gradient(900px 520px at 92% 0%, rgba(16,185,129,0.14), transparent 55%),
    linear-gradient(to bottom, rgba(248,250,252,0.98), rgba(255,255,255,1));
  color:var(--text);
  font:16px/1.65 var(--font-body), "Space Grotesk", sans-serif;
  overflow-x:hidden;
}

body{
  position:relative;
}

body::before{
  content:"";
  position:fixed;
  inset:0;
  background-image:url("/assets/quest-pattern.png");
  background-repeat:repeat;
  background-size:420px 420px;
  opacity:0.22;
  pointer-events:none;
  z-index:0;
}
@media (max-width: 640px){
  body::before{ opacity:0.14; }
}
@media (max-width: 640px){
  :root{
    --text-muted:#5E6F86;
  }
}

body > *{
  position:relative;
  z-index:1;
}

a{ text-decoration:none; color:var(--green) }

.container{ max-width:var(--maxw); margin:0 auto; padding:0 24px }
@media (max-width: 640px){
  .container{ padding:0 16px; }
}

/* ================= RunePrep layout ================= */
.page{ padding:48px 0 72px; }
.page-header{ display:flex; align-items:flex-end; justify-content:space-between; gap:16px; flex-wrap:wrap; }
.page-title{
  font-size:clamp(26px, 3.6vw, 40px);
  font-weight:900;
  margin:0;
  color:var(--ink);
  font-family:var(--font-display), var(--font-body), sans-serif;
  letter-spacing:0.02em;
  line-height:1.2;
}
.page-sub{ margin:8px 0 0; color:var(--text-muted); max-width:720px; }
.stack{ display:flex; flex-direction:column; gap:16px; }
.home{ gap:56px; }
.home > section{ position:relative; }
.home > section,
.page > section{
  scroll-margin-top:140px;
}
@media (max-width: 640px){
  .page{ padding:20px 0 40px; }
  .home{ gap:32px; }
  .page-title{
    font-size:clamp(20px, 6.2vw, 24px);
    line-height:1.15;
    max-width:22ch;
    text-wrap:balance;
    letter-spacing:0.01em;
  }
  .page-sub{
    font-size:14px;
    line-height:1.55;
    max-width:42ch;
  }
  .page-header{ align-items:flex-start; }
  .page-header .btn{ width:100%; text-align:center; }
  .home > section,
  .page > section{
    scroll-margin-top:110px;
  }
}
@media (max-width: 420px){
  .page-title{ font-size:clamp(20px, 7.8vw, 26px); }
}
.section-divider{
  position:absolute;
  left:50%;
  top:-36px;
  width:100vw;
  height:32px;
  transform:translateX(-50%);
  pointer-events:none;
  z-index:2;
}
.section-divider::before{
  content:"";
  position:absolute;
  left:0;
  right:0;
  top:50%;
  height:10px;
  transform:translateY(-50%);
  background:linear-gradient(90deg,
    rgba(112,76,26,0) 0%,
    #8B5C24 12%,
    #C88F3B 32%,
    #F1C66D 50%,
    #C88F3B 68%,
    #8B5C24 88%,
    rgba(112,76,26,0) 100%);
  border-top:1px solid rgba(255,236,196,0.85);
  border-bottom:1px solid rgba(79,49,17,0.85);
  border-radius:999px;
  box-shadow:0 6px 14px rgba(30,18,7,0.28);
}
.section-divider::after{
  content:"";
  position:absolute;
  left:50%;
  top:50%;
  width:34px;
  height:34px;
  transform:translate(-50%, -50%) rotate(45deg);
  background:
    linear-gradient(135deg, rgba(255,255,255,0.6), rgba(255,255,255,0) 45%),
    radial-gradient(circle at 30% 30%, #8FE7FF, #2AA7D8 55%, #0C3B6A 100%);
  border:2px solid #C78F39;
  box-shadow:
    0 0 0 4px rgba(199,143,57,0.35),
    0 8px 16px rgba(10,12,18,0.28);
}
@media (max-width: 700px){
  .section-divider{
    top:-28px;
    height:26px;
    left:0;
    width:100%;
    transform:none;
  }
  .section-divider::before{ height:8px; }
  .section-divider::after{
    width:26px;
    height:26px;
    box-shadow:
      0 0 0 3px rgba(199,143,57,0.35),
      0 6px 12px rgba(10,12,18,0.25);
  }
}
.row{ display:flex; gap:16px; flex-wrap:wrap; align-items:center; }
.deck-cta-row{ gap:12px; }
.grid-2{ display:grid; grid-template-columns:repeat(2, minmax(0, 1fr)); gap:16px; }
.grid-3{ display:grid; grid-template-columns:repeat(3, minmax(0, 1fr)); gap:16px; }
@media (max-width: 900px){
  .grid-2,.grid-3{ grid-template-columns:1fr; }
}
@media (max-width: 640px){
  .deck-cta-row{
    flex-direction:column;
    align-items:stretch;
  }
  .deck-cta-row .btn{
    width:100%;
    text-align:center;
  }
  .deck-cta-row .muted{
    font-size:12px;
  }
}
.card{
  position:relative;
  background:var(--card-surface);
  border:var(--card-border);
  border-radius:var(--radius);
  padding:22px;
  overflow:hidden;
  box-shadow:var(--shadow);
}
@media (max-width: 640px){
  .card{
    padding:16px;
    box-shadow:0 10px 18px rgba(15,23,42,0.08);
  }
}
.card--error{
  border-color:#fca5a5;
  background:#fef2f2;
  color:#7f1d1d;
}
.card.card--plain{
  background:#fff;
  border:1px solid var(--border);
  box-shadow:none;
}
.card.card--plain::before,
.card.card--plain::after{
  display:none;
}
button.card{ cursor:pointer; font:inherit; }
button.card:disabled{ cursor:not-allowed; opacity:0.6; }
.card-title{
  font-weight:800;
  margin:0 0 6px;
  color:var(--ink);
  letter-spacing:0.02em;
  font-family:var(--font-display), var(--font-body), sans-serif;
}
.party-question-text{
  font-size:clamp(20px, 2.6vw, 30px);
  line-height:1.5;
  font-weight:700;
  font-family:var(--font-body), "Space Grotesk", sans-serif;
  letter-spacing:0;
  max-height:12.5em;
  overflow-y:auto;
  padding-right:6px;
}
.pixel-ui .party-question-text{
  font-family:var(--font-body), "Space Grotesk", sans-serif;
  letter-spacing:0;
  text-transform:none;
  -webkit-font-smoothing:antialiased;
  text-rendering:optimizeLegibility;
}
@media (max-width: 640px){
  .party-question-text{
    font-size:18px;
    line-height:1.55;
    max-height:13.5em;
  }
}
.card-sub{ margin:0; color:var(--text-muted); }
.muted{ color:var(--text-muted); }
.badge{
  display:inline-flex;
  align-items:center;
  gap:6px;
  padding:4px 10px;
  border-radius:999px;
  border:1px solid var(--border);
  background:var(--green-soft);
  color:var(--ink);
  font-size:11px;
  font-weight:700;
  font-family:var(--font-body), sans-serif;
  letter-spacing:0.06em;
  text-transform:uppercase;
  line-height:1;
}
.badge-soft{
  border-color:var(--border);
  background:#ECFDF5;
}
.input,
.textarea{
  width:100%;
  border:1px solid var(--border);
  border-radius:12px;
  padding:10px 12px;
  font-size:15px;
  color:var(--text);
  background:#fff;
}
.textarea{ min-height:140px; resize:vertical; }
.input:focus,
.textarea:focus{
  border-color:var(--green);
  outline:none;
  box-shadow:none;
}
.field{ display:flex; flex-direction:column; gap:8px; }
.field-label{ font-weight:700; color:var(--text); }
.field-help{ color:var(--text-muted); font-size:13px; }
.divider{ height:1px; background:var(--border); width:100%; }
.scoreboard{ display:flex; flex-direction:column; gap:10px; }
.score-row{
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:10px 12px;
  border:1px solid var(--border);
  border-radius:12px;
  background:#fff;
  box-shadow:0 10px 22px rgba(15,23,42,0.08);
}
.score-row.is-host{
  border-color:var(--green);
  background:rgba(15,118,110,0.12);
  animation:hostPulse 2.4s ease-in-out infinite;
}
.score-row.is-inactive{
  opacity:0.65;
}
.scoreboard.results .score-row{
  animation:scoreReveal .45s ease both;
}
.scoreboard.results .score-row:nth-child(2){ animation-delay:80ms; }
.scoreboard.results .score-row:nth-child(3){ animation-delay:160ms; }
.scoreboard.results .score-row:nth-child(4){ animation-delay:240ms; }
.scoreboard.results .score-row:nth-child(5){ animation-delay:320ms; }
.progress{ height:8px; background:var(--border); border-radius:999px; overflow:hidden; }
.progress > span{ display:block; height:100%; background:var(--green); }
.avatar{
  width:36px;
  height:36px;
  border-radius:12px;
  object-fit:contain;
  border:1px solid var(--border);
  background:#fff;
  image-rendering:pixelated;
}
.avatar-lg{
  width:56px;
  height:56px;
}
.avatar-grid{
  display:grid;
  grid-template-columns:repeat(auto-fit, minmax(110px, 1fr));
  gap:10px;
}
.avatar-tile{
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:6px;
  padding:10px 8px;
  border-radius:12px;
  border:2px solid transparent;
  background:transparent;
  cursor:pointer;
  font:inherit;
  transition:transform .12s ease, box-shadow .12s ease, background .12s ease;
}
.avatar-tile .avatar{
  width:100%;
  max-width:140px;
  aspect-ratio:1 / 1;
  height:auto;
  border:none;
  background:transparent;
}
.avatar-tile.is-selected{
  border-color:var(--green);
  background:transparent;
}
.avatar-tile:disabled{
  cursor:not-allowed;
  opacity:0.6;
}
.avatar-tile:not(:disabled):hover{
  transform:translateY(-2px);
  box-shadow:2px 2px 0 rgba(15,23,42,0.12);
}
.avatar-label{
  font-size:12px;
  color:var(--text-muted);
}

/* ================= COSMETICS ================= */
.cosmetic-grid{
  display:flex;
  flex-wrap:wrap;
  gap:10px;
}
.cosmetic-tile{
  display:flex;
  align-items:center;
  gap:10px;
  padding:10px 14px;
  border-radius:14px;
  border:1px solid var(--border);
  background:#fff;
  font:inherit;
  cursor:pointer;
  transition:transform .12s ease, box-shadow .12s ease, border-color .12s ease;
}
.cosmetic-tile.is-selected{
  border-color:rgba(15,118,110,0.6);
  box-shadow:0 12px 22px rgba(15,118,110,0.18);
}
.cosmetic-tile:hover{
  transform:translateY(-1px);
  box-shadow:0 12px 24px rgba(15,23,42,0.12);
}
.cosmetic-tile.is-locked{
  cursor:not-allowed;
  opacity:0.55;
  box-shadow:none;
  transform:none;
}

/* ================= COSMETIC THEMES ================= */
:root[data-cosmetic="neon-outline"]{
  --cosmetic-accent:rgba(56,189,248,0.65);
  --cosmetic-glow:rgba(56,189,248,0.25);
  --cosmetic-btn-bg:#0EA5E9;
  --cosmetic-btn-bg-hover:#0284C7;
}
:root[data-cosmetic="gilded-frame"]{
  --cosmetic-accent:rgba(251,191,36,0.7);
  --cosmetic-glow:rgba(251,191,36,0.28);
  --cosmetic-btn-bg:#F59E0B;
  --cosmetic-btn-bg-hover:#D97706;
}
:root[data-cosmetic="emerald-spark"]{
  --cosmetic-accent:rgba(52,211,153,0.65);
  --cosmetic-glow:rgba(52,211,153,0.24);
  --cosmetic-btn-bg:#10B981;
  --cosmetic-btn-bg-hover:#059669;
}
:root[data-cosmetic="starburst-trim"]{
  --cosmetic-accent:rgba(244,114,182,0.6);
  --cosmetic-glow:rgba(244,114,182,0.24);
  --cosmetic-btn-bg:#EC4899;
  --cosmetic-btn-bg-hover:#DB2777;
}
:root[data-cosmetic="velvet-edge"]{
  --cosmetic-accent:rgba(148,81,81,0.6);
  --cosmetic-glow:rgba(148,81,81,0.24);
  --cosmetic-btn-bg:#991B1B;
  --cosmetic-btn-bg-hover:#7F1D1D;
}
:root[data-cosmetic="sapphire-pulse"]{
  --cosmetic-accent:rgba(59,130,246,0.7);
  --cosmetic-glow:rgba(59,130,246,0.26);
  --cosmetic-btn-bg:#2563EB;
  --cosmetic-btn-bg-hover:#1D4ED8;
}
:root[data-cosmetic="crimson-halo"]{
  --cosmetic-accent:rgba(220,38,38,0.7);
  --cosmetic-glow:rgba(220,38,38,0.24);
  --cosmetic-btn-bg:#DC2626;
  --cosmetic-btn-bg-hover:#B91C1C;
}
:root[data-cosmetic="amber-drift"]{
  --cosmetic-accent:rgba(245,158,11,0.7);
  --cosmetic-glow:rgba(245,158,11,0.26);
  --cosmetic-btn-bg:#F59E0B;
  --cosmetic-btn-bg-hover:#D97706;
}
:root[data-cosmetic="arctic-gleam"]{
  --cosmetic-accent:rgba(56,189,248,0.7);
  --cosmetic-glow:rgba(125,211,252,0.24);
  --cosmetic-btn-bg:#38BDF8;
  --cosmetic-btn-bg-hover:#0EA5E9;
}
:root[data-cosmetic="violet-prism"]{
  --cosmetic-accent:rgba(139,92,246,0.7);
  --cosmetic-glow:rgba(139,92,246,0.24);
  --cosmetic-btn-bg:#8B5CF6;
  --cosmetic-btn-bg-hover:#7C3AED;
}

:root[data-cosmetic="neon-outline"] .card,
:root[data-cosmetic="neon-outline"] .card.card--plain,
:root[data-cosmetic="gilded-frame"] .card,
:root[data-cosmetic="gilded-frame"] .card.card--plain,
:root[data-cosmetic="emerald-spark"] .card,
:root[data-cosmetic="emerald-spark"] .card.card--plain,
:root[data-cosmetic="starburst-trim"] .card,
:root[data-cosmetic="starburst-trim"] .card.card--plain,
:root[data-cosmetic="velvet-edge"] .card,
:root[data-cosmetic="velvet-edge"] .card.card--plain,
:root[data-cosmetic="sapphire-pulse"] .card,
:root[data-cosmetic="sapphire-pulse"] .card.card--plain,
:root[data-cosmetic="crimson-halo"] .card,
:root[data-cosmetic="crimson-halo"] .card.card--plain,
:root[data-cosmetic="amber-drift"] .card,
:root[data-cosmetic="amber-drift"] .card.card--plain,
:root[data-cosmetic="arctic-gleam"] .card,
:root[data-cosmetic="arctic-gleam"] .card.card--plain,
:root[data-cosmetic="violet-prism"] .card,
:root[data-cosmetic="violet-prism"] .card.card--plain{
  border-color:var(--cosmetic-accent);
  box-shadow:0 18px 34px var(--cosmetic-glow);
}

:root[data-cosmetic="neon-outline"] .page-title,
:root[data-cosmetic="neon-outline"] .card-title,
:root[data-cosmetic="gilded-frame"] .page-title,
:root[data-cosmetic="gilded-frame"] .card-title,
:root[data-cosmetic="emerald-spark"] .page-title,
:root[data-cosmetic="emerald-spark"] .card-title,
:root[data-cosmetic="starburst-trim"] .page-title,
:root[data-cosmetic="starburst-trim"] .card-title,
:root[data-cosmetic="velvet-edge"] .page-title,
:root[data-cosmetic="velvet-edge"] .card-title,
:root[data-cosmetic="sapphire-pulse"] .page-title,
:root[data-cosmetic="sapphire-pulse"] .card-title,
:root[data-cosmetic="crimson-halo"] .page-title,
:root[data-cosmetic="crimson-halo"] .card-title,
:root[data-cosmetic="amber-drift"] .page-title,
:root[data-cosmetic="amber-drift"] .card-title,
:root[data-cosmetic="arctic-gleam"] .page-title,
:root[data-cosmetic="arctic-gleam"] .card-title,
:root[data-cosmetic="violet-prism"] .page-title,
:root[data-cosmetic="violet-prism"] .card-title{
  text-shadow:0 6px 18px var(--cosmetic-glow);
}

:root[data-cosmetic="neon-outline"] .reward-kicker,
:root[data-cosmetic="gilded-frame"] .reward-kicker,
:root[data-cosmetic="emerald-spark"] .reward-kicker,
:root[data-cosmetic="starburst-trim"] .reward-kicker,
:root[data-cosmetic="velvet-edge"] .reward-kicker,
:root[data-cosmetic="sapphire-pulse"] .reward-kicker,
:root[data-cosmetic="crimson-halo"] .reward-kicker,
:root[data-cosmetic="amber-drift"] .reward-kicker,
:root[data-cosmetic="arctic-gleam"] .reward-kicker,
:root[data-cosmetic="violet-prism"] .reward-kicker{
  color:var(--cosmetic-accent);
}

:root[data-cosmetic="neon-outline"] .btn-primary,
:root[data-cosmetic="gilded-frame"] .btn-primary,
:root[data-cosmetic="emerald-spark"] .btn-primary,
:root[data-cosmetic="starburst-trim"] .btn-primary,
:root[data-cosmetic="velvet-edge"] .btn-primary,
:root[data-cosmetic="sapphire-pulse"] .btn-primary,
:root[data-cosmetic="crimson-halo"] .btn-primary,
:root[data-cosmetic="amber-drift"] .btn-primary,
:root[data-cosmetic="arctic-gleam"] .btn-primary,
:root[data-cosmetic="violet-prism"] .btn-primary{
  background:var(--cosmetic-btn-bg);
  border-color:var(--cosmetic-btn-bg);
  color:#fff;
  box-shadow:0 0 18px var(--cosmetic-glow);
}
:root[data-cosmetic="neon-outline"] .btn-primary:hover,
:root[data-cosmetic="gilded-frame"] .btn-primary:hover,
:root[data-cosmetic="emerald-spark"] .btn-primary:hover,
:root[data-cosmetic="starburst-trim"] .btn-primary:hover,
:root[data-cosmetic="velvet-edge"] .btn-primary:hover,
:root[data-cosmetic="sapphire-pulse"] .btn-primary:hover,
:root[data-cosmetic="crimson-halo"] .btn-primary:hover,
:root[data-cosmetic="amber-drift"] .btn-primary:hover,
:root[data-cosmetic="arctic-gleam"] .btn-primary:hover,
:root[data-cosmetic="violet-prism"] .btn-primary:hover{
  background:var(--cosmetic-btn-bg-hover);
  border-color:var(--cosmetic-btn-bg-hover);
}

:root[data-cosmetic="neon-outline"] .badge,
:root[data-cosmetic="gilded-frame"] .badge,
:root[data-cosmetic="emerald-spark"] .badge,
:root[data-cosmetic="starburst-trim"] .badge,
:root[data-cosmetic="velvet-edge"] .badge,
:root[data-cosmetic="sapphire-pulse"] .badge,
:root[data-cosmetic="crimson-halo"] .badge,
:root[data-cosmetic="amber-drift"] .badge,
:root[data-cosmetic="arctic-gleam"] .badge,
:root[data-cosmetic="violet-prism"] .badge{
  border-color:var(--cosmetic-accent);
}

:root[data-cosmetic="neon-outline"] .card,
:root[data-cosmetic="neon-outline"] .card.card--plain{
  box-shadow:0 16px 30px rgba(56,189,248,0.2);
}

:root[data-cosmetic="gilded-frame"] .card,
:root[data-cosmetic="gilded-frame"] .card.card--plain{
  box-shadow:0 18px 32px rgba(251,191,36,0.22);
}
:root[data-cosmetic="gilded-frame"] .badge{
  background:rgba(251,191,36,0.2);
  border-color:rgba(251,191,36,0.4);
}

:root[data-cosmetic="emerald-spark"] .card,
:root[data-cosmetic="emerald-spark"] .card.card--plain{
  box-shadow:0 18px 30px rgba(52,211,153,0.2);
}
:root[data-cosmetic="emerald-spark"] .progress > span,
:root[data-cosmetic="emerald-spark"] .progress-bar > span{
  background:linear-gradient(90deg, #34D399, #16A34A);
}

:root[data-cosmetic="starburst-trim"] .card,
:root[data-cosmetic="starburst-trim"] .card.card--plain{
  box-shadow:
    0 0 0 1px rgba(244,114,182,0.25) inset,
    0 18px 34px rgba(244,114,182,0.18);
}
:root[data-cosmetic="starburst-trim"] .reward-chip{
  background:linear-gradient(120deg, rgba(244,114,182,0.7), rgba(251,191,36,0.7));
}

:root[data-cosmetic="velvet-edge"] .card,
:root[data-cosmetic="velvet-edge"] .card.card--plain{
  box-shadow:0 18px 32px rgba(148,81,81,0.2);
}

/* ================= REWARDS ================= */
.vegas-panel{
  background:
    linear-gradient(180deg, rgba(255,255,255,0.98), rgba(236,253,245,0.9)) padding-box,
    linear-gradient(120deg, rgba(251,191,36,0.7), rgba(52,211,153,0.35), rgba(56,189,248,0.45)) border-box;
  border:1px solid transparent;
  position:relative;
  isolation:isolate;
  overflow:hidden;
  box-shadow:0 20px 36px rgba(15,23,42,0.14), 0 0 26px rgba(52,211,153,0.18);
}
.vegas-panel::after{
  content:"";
  position:absolute;
  top:-60%;
  left:-20%;
  width:60%;
  height:220%;
  background:linear-gradient(120deg, rgba(255,255,255,0), rgba(255,255,255,0.7), rgba(255,255,255,0));
  opacity:0.35;
  transform:translateX(-120%);
  animation:vegasShimmer 7s ease-in-out infinite;
  pointer-events:none;
  z-index:0;
}
.vegas-panel > *{
  position:relative;
  z-index:1;
}
.reward-panel{
  position:relative;
  border-radius:22px;
}
.reward-header{
  display:flex;
  justify-content:space-between;
  align-items:flex-start;
  gap:12px;
}
.reward-kicker{
  font-size:12px;
  text-transform:uppercase;
  letter-spacing:0.14em;
  color:rgba(15,118,110,0.8);
  font-weight:700;
}
.reward-mode{
  font-weight:700;
  color:var(--ink);
}
.reward-chip{
  padding:6px 14px;
  border-radius:999px;
  background:linear-gradient(120deg, rgba(251,191,36,0.9), rgba(52,211,153,0.7));
  color:#0B1120;
  font-weight:800;
  box-shadow:0 8px 16px rgba(251,191,36,0.24);
}
.reward-chip.is-muted{
  background:rgba(226,232,240,0.9);
  color:var(--text-muted);
  box-shadow:none;
}
.reward-chip{
  text-align:center;
}
.meta-panel .reward-chip{
  white-space:nowrap;
}
.meta-panel .card-title{
  margin-top:4px;
}
.meta-panel .progress-bar{
  margin:16px 0 10px;
}
.reward-chip--small{
  padding:4px 10px;
  font-size:12px;
}
.reward-detail{
  margin:8px 0 16px;
  font-size:15px;
  color:var(--ink-soft);
}
.reward-grid{
  display:grid;
  grid-template-columns:repeat(auto-fit, minmax(140px, 1fr));
  gap:12px;
}
.reward-metric{
  background:rgba(255,255,255,0.72);
  border-radius:14px;
  padding:12px;
  border:1px solid rgba(15,118,110,0.12);
  display:flex;
  flex-direction:column;
  gap:4px;
  font-weight:600;
}
.reward-metric strong{
  font-size:18px;
  color:var(--ink);
}

/* ================= CONFETTI ================= */
.confetti-burst{
  position:absolute;
  inset:0;
  pointer-events:none;
  overflow:hidden;
  z-index:2;
}
.confetti-piece{
  position:absolute;
  top:6px;
  left:var(--x);
  width:12px;
  height:16px;
  border-radius:6px;
  background:linear-gradient(180deg, #E2E8F0, #CBD5F5);
  opacity:0;
  transform:translate(0, -30px) rotate(0deg) scale(var(--size));
  animation:confettiBurst var(--duration) ease-out both;
  animation-delay:var(--delay);
  filter:drop-shadow(0 6px 10px rgba(15,23,42,0.18));
}

.confetti-burst[data-badge="lucky-seven"] .confetti-piece{
  width:14px;
  height:14px;
  border-radius:0;
  clip-path:polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%);
  background:linear-gradient(140deg, #34D399, #F59E0B);
  animation-name:confettiStar;
}
.confetti-burst[data-badge="lucky-seven"] .confetti-piece:nth-child(2n){
  background:linear-gradient(140deg, #0EA5E9, #22C55E);
}
.confetti-burst[data-badge="lucky-seven"] .confetti-piece:nth-child(3n){
  background:linear-gradient(140deg, #F59E0B, #F97316);
}

.confetti-burst[data-badge="default"] .confetti-piece{
  background:linear-gradient(140deg, #38BDF8, #22C55E);
}
.confetti-burst[data-badge="default"] .confetti-piece:nth-child(2n){
  background:linear-gradient(140deg, #F59E0B, #F97316);
}
.confetti-burst[data-badge="default"] .confetti-piece:nth-child(3n){
  background:linear-gradient(140deg, #A855F7, #EC4899);
}

.confetti-burst[data-badge="golden-run"] .confetti-piece{
  width:10px;
  height:28px;
  border-radius:6px;
  clip-path:polygon(0 0, 100% 8%, 86% 100%, 14% 92%);
  background:linear-gradient(180deg, #FDE68A, #F59E0B);
  animation-name:confettiRibbon;
}
.confetti-burst[data-badge="golden-run"] .confetti-piece:nth-child(3n){
  background:linear-gradient(180deg, #FCD34D, #D97706);
}

.confetti-burst[data-badge="high-roller"] .confetti-piece{
  width:16px;
  height:16px;
  border-radius:999px;
  background:radial-gradient(circle at 50% 50%, #FEF3C7 0 3px, #EF4444 3px 7px, #7F1D1D 7px 9px);
  border:2px solid rgba(251,191,36,0.9);
  animation-name:confettiChip;
}
.confetti-burst[data-badge="high-roller"] .confetti-piece:nth-child(2n){
  background:radial-gradient(circle at 50% 50%, #FFEDD5 0 3px, #F97316 3px 7px, #9A3412 7px 9px);
  border-color:rgba(248,113,113,0.85);
}

.confetti-burst[data-badge="midnight-ace"] .confetti-piece{
  width:12px;
  height:18px;
  border-radius:0;
  clip-path:polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%);
  background:linear-gradient(135deg, #1E293B, #7C3AED);
  box-shadow:0 8px 16px rgba(15,23,42,0.45);
  animation-name:confettiShard;
}
.confetti-burst[data-badge="midnight-ace"] .confetti-piece:nth-child(3n){
  background:linear-gradient(135deg, #1E3A8A, #0F172A);
}

@keyframes confettiBurst{
  0%{
    opacity:0;
    transform:translate(0, -30px) rotate(0deg) scale(var(--size));
  }
  20%{
    opacity:1;
  }
  100%{
    opacity:0;
    transform:translate(var(--drift), 240px) rotate(var(--rot)) scale(calc(var(--size) * 1.1));
  }
}
@keyframes confettiStar{
  0%{
    opacity:0;
    transform:translate(0, -28px) rotate(0deg) scale(var(--size));
  }
  25%{
    opacity:1;
  }
  70%{
    transform:translate(calc(var(--drift) * 0.6), 150px) rotate(calc(var(--rot) + 180deg))
      scale(calc(var(--size) * 1.2));
  }
  100%{
    opacity:0;
    transform:translate(var(--drift), 250px) rotate(calc(var(--rot) + 320deg))
      scale(calc(var(--size) * 1.1));
  }
}
@keyframes confettiRibbon{
  0%{
    opacity:0;
    transform:translate(0, -24px) rotate(10deg) scale(var(--size));
  }
  25%{
    opacity:1;
  }
  100%{
    opacity:0;
    transform:translate(calc(var(--drift) * 0.8), 260px) rotate(calc(var(--rot) + 120deg))
      scale(calc(var(--size) * 1.15));
  }
}
@keyframes confettiChip{
  0%{
    opacity:0;
    transform:translate(0, -26px) rotate(0deg) scale(var(--size));
  }
  30%{
    opacity:1;
  }
  70%{
    transform:translate(calc(var(--drift) * 0.9), 190px) rotate(calc(var(--rot) + 540deg))
      scale(calc(var(--size) * 1.05));
  }
  85%{
    transform:translate(calc(var(--drift) * 0.85), 170px) rotate(calc(var(--rot) + 620deg))
      scale(calc(var(--size) * 1.05));
  }
  100%{
    opacity:0;
    transform:translate(var(--drift), 260px) rotate(calc(var(--rot) + 720deg))
      scale(calc(var(--size) * 1.1));
  }
}
@keyframes confettiShard{
  0%{
    opacity:0;
    transform:translate(0, -30px) rotate(0deg) scale(var(--size));
  }
  20%{
    opacity:1;
  }
  100%{
    opacity:0;
    transform:translate(calc(var(--drift) * 1.1), 270px) rotate(calc(var(--rot) + 260deg))
      scale(calc(var(--size) * 1.2));
  }
}
.reward-levelup{
  margin-top:14px;
  padding:10px 14px;
  border-radius:14px;
  background:rgba(251,191,36,0.16);
  color:#92400E;
  font-weight:700;
  box-shadow:0 0 0 1px rgba(251,191,36,0.22) inset;
  animation:neonPulse 2.8s ease-in-out infinite;
}
.reward-nearmiss{
  margin-top:12px;
  display:flex;
  flex-wrap:wrap;
  gap:8px;
  font-weight:600;
  color:#7C2D12;
}
.reward-nearmiss span{
  background:rgba(251,113,133,0.16);
  border-radius:999px;
  padding:6px 12px;
}
.progress-panel .card-title{
  margin:6px 0 0;
}
.progress-bar{
  height:12px;
  border-radius:999px;
  background:rgba(15,23,42,0.08);
  overflow:hidden;
  margin:16px 0 8px;
}
.progress-bar > span{
  display:block;
  height:100%;
  border-radius:inherit;
  background:linear-gradient(90deg, var(--neon-green), var(--neon-blue));
  box-shadow:0 0 12px rgba(52,211,153,0.6);
}
.streak-card{
  margin-top:14px;
  padding:12px 14px;
  border-radius:16px;
  background:rgba(14,116,144,0.12);
  border:1px solid rgba(14,116,144,0.18);
  display:flex;
  flex-direction:column;
  gap:6px;
}
.streak-label{
  text-transform:uppercase;
  letter-spacing:0.12em;
  font-size:11px;
  color:rgba(14,116,144,0.8);
  font-weight:700;
}
.quest-panel .card-title{
  margin-top:6px;
}
.quest-item{
  padding:10px 12px;
  border-radius:14px;
  background:rgba(255,255,255,0.7);
  border:1px solid rgba(15,118,110,0.12);
}
.quest-bar{
  height:8px;
  border-radius:999px;
  background:rgba(15,23,42,0.08);
  margin-top:8px;
  overflow:hidden;
}
.quest-bar span{
  display:block;
  height:100%;
  border-radius:inherit;
  background:linear-gradient(90deg, var(--gold-strong), var(--neon-pink));
}
.loot-panel .card-title{
  margin:6px 0 10px;
}
.loot-chip{
  padding:6px 12px;
  border-radius:999px;
  font-size:12px;
  font-weight:700;
  background:rgba(15,118,110,0.12);
  color:#0F172A;
  border:1px solid transparent;
}
.loot-chip--badge{
  background:rgba(251,191,36,0.18);
  color:#92400E;
}
.loot-chip.is-locked{
  background:rgba(148,163,184,0.25);
  color:#475569;
}
.loot-chip.is-selected{
  border-color:rgba(15,118,110,0.6);
  box-shadow:0 10px 20px rgba(15,118,110,0.2);
}
.answer-locked{
  background:rgba(244,114,182,0.16);
  color:#9D174D;
  border-color:rgba(244,114,182,0.4);
  animation:lockGlow 2.6s ease-in-out infinite;
}
.answer-locked-text{
  font-weight:600;
  color:#9D174D;
}
.scoreboard.results .score-row--tier{
  animation:tierReveal .6s ease both;
  border-color:rgba(251,191,36,0.6);
  box-shadow:0 0 0 1px rgba(251,191,36,0.16) inset, 0 12px 22px rgba(251,191,36,0.18);
}
.scoreboard.results .score-row--tier:nth-child(1){ animation-delay:0ms; }
.scoreboard.results .score-row--tier:nth-child(2){ animation-delay:120ms; }
.scoreboard.results .score-row--tier:nth-child(3){ animation-delay:220ms; }
.result-podium-row{
  padding:6px 0;
  border-bottom:1px dashed rgba(15,118,110,0.18);
}
.result-podium-row.is-first{
  color:#92400E;
  font-weight:800;
}
.swing-badge{
  background:rgba(248,113,113,0.2);
  color:#991B1B;
}

/* ================= FLASHCARDS ================= */
.flashcard-shell{
  max-width:760px;
  margin:0 auto;
  width:100%;
}
.flashcard-meta{
  display:flex;
  justify-content:center;
  margin-bottom:10px;
}
.flashcard-meta--solo{
  justify-content:space-between;
  align-items:center;
  margin-bottom:12px;
  gap:12px;
}
.flashcard-title{
  font-weight:700;
  color:var(--ink);
}
.flashcard-meta--party{
  justify-content:space-between;
  align-items:center;
  gap:12px;
}
.flashcard-progress{
  font-size:12px;
  color:var(--text-muted);
  letter-spacing:0.06em;
  text-transform:uppercase;
}
.flashcard-card{
  border:1px solid var(--border);
  border-radius:18px;
  padding:36px;
  min-height:240px;
  display:flex;
  flex-direction:column;
  justify-content:center;
  gap:12px;
  text-align:center;
}
.flashcard-card--interactive{
  cursor:pointer;
  transition:transform .15s ease, box-shadow .15s ease;
}
.flashcard-card--interactive:hover{
  transform:translateY(-2px);
  box-shadow:0 12px 24px rgba(15,23,42,0.12);
}
.flashcard-label{
  font-size:12px;
  color:var(--text-muted);
  letter-spacing:0.1em;
  text-transform:uppercase;
}
.flashcard-text{
  font-size:clamp(20px, 2.4vw, 30px);
  color:var(--ink);
  font-weight:600;
}
.flashcard-hint{
  margin:10px 0 0;
  text-align:center;
  color:var(--text-muted);
  font-size:13px;
}
.flashcard-controls{
  display:flex;
  justify-content:center;
  gap:12px;
  margin-top:12px;
  flex-wrap:wrap;
}

/* ================= QUIZ ================= */
.quiz-shell{
  max-width:860px;
  margin:0 auto;
  display:flex;
  flex-direction:column;
  gap:16px;
}
.quiz-meta{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
}
.quiz-progress{
  font-size:12px;
  color:var(--text-muted);
  letter-spacing:0.08em;
  text-transform:uppercase;
}
.quiz-card{
  border:1px solid var(--border);
  border-radius:18px;
  padding:26px;
  background:#f7faf8;
  display:flex;
  flex-direction:column;
  gap:10px;
}
.quiz-label{
  font-size:12px;
  color:var(--text-muted);
  letter-spacing:0.1em;
  text-transform:uppercase;
}
.quiz-text{
  font-size:clamp(18px, 2.2vw, 26px);
  line-height:1.5;
  color:var(--ink);
  font-weight:600;
}
.quiz-options{
  display:grid;
  grid-template-columns:repeat(2, minmax(0, 1fr));
  gap:12px;
}
.quiz-option{
  border:1px solid var(--border);
  border-radius:14px;
  padding:16px;
  background:#fff;
  text-align:left;
  cursor:pointer;
  font:inherit;
  transition:transform .12s ease, box-shadow .12s ease, border-color .12s ease;
}
.quiz-option:hover{
  transform:translateY(-1px);
  box-shadow:0 10px 20px rgba(15,23,42,0.08);
}
.quiz-choice{
  display:flex;
  gap:10px;
  align-items:flex-start;
}
.quiz-letter{
  font-weight:700;
  color:var(--text-muted);
}
.quiz-result{
  border:1px solid var(--border);
  border-radius:14px;
  padding:18px;
  background:#fff;
}
@media (max-width: 900px){
  .quiz-options{ grid-template-columns:1fr; }
}
@media (max-width: 640px){
  .quiz-card{ padding:18px; }
  .quiz-text{ font-size:18px; }
  .quiz-option{ padding:12px; font-size:15px; }
  .flashcard-card{
    padding:22px;
    min-height:200px;
  }
  .flashcard-meta--solo{
    flex-direction:column;
    align-items:flex-start;
  }
  .flashcard-controls{
    flex-direction:column;
    align-items:stretch;
  }
  .flashcard-controls .btn{
    width:100%;
    justify-content:center;
  }
  .quiz-meta{
    flex-direction:column;
    align-items:flex-start;
  }
}

@keyframes bob {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-4px); }
}

@keyframes hostPulse {
  0%, 100% { box-shadow: 0 0 0 0 rgba(22,163,74,0.35); }
  50% { box-shadow: 0 0 0 6px rgba(22,163,74,0.08); }
}

@keyframes scoreReveal {
  from { opacity: 0; transform: translateY(6px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes revealUp {
  from { opacity: 0; transform: translateY(10px) scale(0.98); }
  to { opacity: 1; transform: translateY(0) scale(1); }
}

@keyframes vegasShimmer {
  0% { transform:translateX(-120%) rotate(12deg); }
  50% { transform:translateX(120%) rotate(12deg); }
  100% { transform:translateX(120%) rotate(12deg); }
}

@keyframes neonPulse {
  0%, 100% { box-shadow:0 0 0 0 rgba(251,191,36,0.2); }
  50% { box-shadow:0 0 0 6px rgba(251,191,36,0.08); }
}

@keyframes tierReveal {
  0% { opacity:0; transform:translateY(10px) scale(0.97); }
  60% { opacity:1; transform:translateY(-2px) scale(1.02); }
  100% { opacity:1; transform:translateY(0) scale(1); }
}

@keyframes lockGlow {
  0%, 100% { box-shadow:0 0 0 rgba(244,114,182,0.0); }
  50% { box-shadow:0 0 12px rgba(244,114,182,0.35); }
}

.avatar-float{
  animation:bob 2.6s ease-in-out infinite;
}

.rpg-reveal{
  animation:revealUp .5s ease both;
}
.rpg-reveal-1{ animation-delay:80ms; }
.rpg-reveal-2{ animation-delay:160ms; }
.rpg-reveal-3{ animation-delay:240ms; }

@media (prefers-reduced-motion: reduce){
  .avatar-float,
  .rpg-reveal,
  .scoreboard.results .score-row,
  .scoreboard.results .score-row--tier,
  .reward-levelup,
  .answer-locked{
    animation:none;
  }
  .vegas-panel::after{
    animation:none;
  }
}

/* ================= NAV ================= */
.nav{
  position:sticky;
  top:0;
  background:rgba(255,255,255,0.9);
  border-bottom:1px solid var(--border);
  z-index:50;
  backdrop-filter:blur(10px);
  box-shadow:0 6px 16px rgba(15,23,42,0.06);
}
.nav-inner{ display:flex; align-items:center; gap:20px; height:160px; }
.nav-logo{ display:inline-flex; align-items:center; }
.nav-logo img{ height:140px; width:auto; display:block; }
.nav-toggle{
  position:absolute;
  opacity:0;
  pointer-events:none;
  width:1px;
  height:1px;
}
.nav-toggle-btn{
  display:none;
  align-items:center;
  justify-content:center;
  width:42px;
  height:42px;
  padding:0;
  border-radius:12px;
  border:1px solid var(--border);
  background:rgba(255,255,255,0.92);
  color:var(--green);
  cursor:pointer;
  box-shadow:0 6px 14px rgba(15,23,42,0.08);
}
.nav-toggle-btn--close{ display:none; color:var(--ink); }
.nav-toggle-icon{ display:inline-flex; width:20px; height:20px; }
.nav-toggle-icon svg{ width:100%; height:100%; display:block; }
.nav-wordmark{
  font-weight:900;
  font-size:24px;
  color:var(--ink);
  letter-spacing:0.04em;
  font-family:var(--font-display), var(--font-body), sans-serif;
  line-height:1;
  display:inline-block;
}
.nav-links{
  margin-left:auto;
  display:flex;
  align-items:center;
  gap:24px;
}
.nav-list{
  display:grid;
  grid-auto-flow:column;
  gap:24px;
  align-items:center;
}
.nav-auth{
  display:flex;
  align-items:center;
  gap:10px;
}
.nav-drawer-head{ display:none; }
.nav-drawer-title{
  font-size:11px;
  letter-spacing:0.18em;
  text-transform:uppercase;
  color:var(--text-muted);
  font-weight:700;
}
.nav-link{ color:var(--ink-soft); font-weight:600; letter-spacing:0.02em; }
.nav-link:hover{ color:var(--ink); }
.nav-link[aria-current="page"]{ color:var(--green); }
.nav-scrim{
  display:none;
}
.footer{ border-top:1px solid var(--border); padding:28px 0; color:var(--text-muted); font-size:14px; }
@media (max-width: 900px){
  .nav{
    padding-top:env(safe-area-inset-top);
  }
  .nav-inner{
    height:auto;
    min-height:64px;
    padding:8px 0;
    flex-wrap:nowrap;
  }
  .nav-logo img{ height:64px; }
  .nav-toggle-btn--open{
    display:inline-flex;
    margin-left:auto;
    position:relative;
    z-index:120;
  }
  .nav-toggle:checked ~ .nav-toggle-btn--open{
    opacity:0;
    pointer-events:none;
  }
  .nav-links{
    position:fixed;
    top:0;
    right:0;
    height:100dvh;
    width:min(320px, 80vw);
    margin:0;
    padding:calc(16px + env(safe-area-inset-top)) 16px calc(20px + env(safe-area-inset-bottom));
    display:flex;
    flex-direction:column;
    gap:12px;
    align-items:stretch;
    background:#fff;
    border-left:1px solid var(--border);
    box-shadow:-18px 0 32px rgba(15,23,42,0.18);
    transform:translateX(110%);
    opacity:0;
    pointer-events:none;
    transition:transform .2s ease, opacity .2s ease;
    overflow-y:auto;
    z-index:110;
  }
  .nav-toggle:checked ~ .nav-links .nav-toggle-btn--close{
    display:inline-flex;
  }
  .nav-toggle:checked ~ .nav-links{ transform:translateX(0); opacity:1; pointer-events:auto; }
  .nav-scrim{
    display:block;
    position:fixed;
    inset:0;
    background:rgba(15,23,42,0.45);
    opacity:0;
    pointer-events:none;
    transition:opacity .2s ease;
    z-index:100;
  }
  .nav-toggle:checked ~ .nav-scrim{ opacity:1; pointer-events:auto; }
  .nav-drawer-head{
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:12px;
  }
  .nav-list{
    display:flex;
    flex-direction:column;
    gap:6px;
  }
  .nav-link{
    display:flex;
    align-items:center;
    width:100%;
    padding:10px 12px;
    border-radius:12px;
  }
  .nav-link[aria-current="page"]{
    background:var(--green-soft);
    color:var(--green);
    font-weight:700;
  }
  .nav-auth{
    padding-top:8px;
    border-top:1px solid var(--border);
    flex-wrap:wrap;
  }
}
@media (max-width: 640px){
  .nav-inner{ min-height:60px; }
  .nav-logo img{ height:52px; }
  .nav-toggle-btn{
    width:40px;
    height:40px;
  }
  .nav-links{ width:min(320px, 82vw); }
}
@supports selector(body:has(#nav-toggle:checked)){
  body:has(#nav-toggle:checked){
    overflow:hidden;
    height:100%;
    touch-action:none;
  }
}

/* ================= BUTTONS ================= */
.btn{
  appearance:none;
  border:1px solid var(--border);
  border-radius:12px;
  padding:12px 18px;
  font-weight:700;
  cursor:pointer;
  transition:transform .12s ease, box-shadow .12s ease, background .12s ease;
  box-shadow:0 6px 12px rgba(15,23,42,0.08);
  text-transform:none;
  letter-spacing:0.01em;
  font-size:14px;
}
.btn-primary{ background:var(--green); color:#fff; border-color:transparent }
.btn-primary:hover{ background:var(--green-hover); }
.btn-outline{ background:#fff; border-color:var(--border); color:var(--ink) }
.btn-outline:hover{ background:rgba(15,118,110,0.08); }
.btn:hover{ transform:translateY(-1px); box-shadow:0 10px 18px rgba(15,23,42,0.12); }
.btn:focus-visible{ outline:3px solid var(--green-soft); outline-offset:2px }

.btn-big,
.btn-large{
  font-size:20px;
  padding:16px 32px;
}
.btn-small{
  font-size:12px;
  padding:8px 12px;
}
.text-link{
  font-weight:700;
  color:var(--green);
  text-decoration:none;
  border-bottom:1px dashed rgba(15,118,110,0.45);
  padding-bottom:2px;
}
.text-link:hover{
  color:var(--green-hover);
  border-bottom-color:rgba(15,118,110,0.75);
}

.cancel-premium-fab{
  position:fixed;
  right:24px;
  bottom:24px;
  z-index:40;
  border-color:rgba(15,118,110,0.35);
  background:#fff;
}
@media (max-width: 640px){
  .cancel-premium-fab{
    right:16px;
    bottom:16px;
  }
}

/* ================= SELECT DROPDOWNS ================= */
.select{
  appearance:none;
  -webkit-appearance:none;
  -moz-appearance:none;

  background:#fff;
  border:1px solid var(--border);
  border-radius:12px;
  padding:8px 32px 8px 14px;
  font-size:16px;
  font-weight:600;
  color:var(--text);
  cursor:pointer;
  line-height:1.4;

  background-image:url("data:image/svg+xml;utf8,<svg fill='%23111827' height='24' viewBox='0 0 24 24' width='24' xmlns='http://www.w3.org/2000/svg'><path d='M7 10l5 5 5-5z'/></svg>");
  background-repeat:no-repeat;
  background-position:right 8px center;
  background-size:16px 16px;

  transition:none;
}
.select:hover{ border-color:var(--green); }
.select:focus{ outline:none; border-color:var(--green); box-shadow:none; }

/* CTA spacing below cards */
.demo-cta{ margin-top:48px }

/* ================= REVIEW LIBRARY ================= */
.review-grid{
  display:grid;
  grid-template-columns:repeat(2, minmax(0, 1fr));
  gap:16px;
}
@media (max-width: 900px){
  .review-grid{ grid-template-columns:1fr; }
}
.review-item{
  border:1px solid var(--border);
  border-radius:12px;
  padding:12px 14px;
  background:#fff;
}
.review-item-title{
  font-weight:700;
  color:var(--ink);
}
.review-item-sub{
  margin-top:6px;
  color:var(--text-muted);
  font-size:13px;
}
.review-item-actions{
  margin-top:10px;
  display:flex;
  justify-content:flex-end;
}

/* ================= MODAL ================= */
.modal-backdrop{
  position:fixed;
  inset:0;
  background:rgba(15, 23, 42, 0.45);
  display:flex;
  align-items:center;
  justify-content:center;
  padding:20px;
  z-index:50;
}
.modal-card{
  width:min(560px, 94vw);
  background:var(--card-surface);
  border:var(--card-border);
  border-radius:var(--radius);
  padding:24px;
  box-shadow:var(--shadow);
}
.promo-modal{
  background:
    radial-gradient(140% 120% at 10% 0%, rgba(16,185,129,0.25), transparent 60%),
    radial-gradient(120% 120% at 90% 10%, rgba(14,116,144,0.18), transparent 60%),
    var(--card-surface);
  border:1px solid rgba(16,185,129,0.35);
}
.promo-header{
  text-align:left;
}
.promo-kicker{
  display:inline-flex;
  align-items:center;
  padding:6px 12px;
  border-radius:999px;
  background:rgba(15,118,110,0.12);
  color:var(--ink);
  font-size:12px;
  font-weight:800;
  letter-spacing:0.12em;
  text-transform:uppercase;
}
.promo-title{
  margin:14px 0 8px;
  font-size:clamp(26px, 3.4vw, 34px);
  font-weight:900;
  color:var(--ink);
  font-family:var(--font-display), var(--font-body), sans-serif;
  letter-spacing:0.02em;
}
.promo-sub{
  margin:0;
  color:var(--ink-soft);
}
.promo-actions{
  display:flex;
  flex-wrap:wrap;
  gap:12px;
  margin-top:18px;
}

/* ================= HOME LAYOUT ================= */
.hero-slab{
  position:relative;
  padding:72px 0 48px;
  z-index:0;
}
.hero-slab--glow::before{
  content:"";
  position:absolute;
  left:-28px;
  right:-28px;
  top:-18px;
  bottom:-18px;
  display:none;
}
.sparkle-layer::after{
  content:"";
  position:absolute;
  inset:-10px;
  background-image:
    radial-gradient(2px 2px at 12% 18%, rgba(15,118,110,0.25) 50%, transparent 55%),
    radial-gradient(2px 2px at 28% 68%, rgba(16,185,129,0.18) 50%, transparent 55%),
    radial-gradient(2px 2px at 74% 26%, rgba(15,118,110,0.22) 50%, transparent 55%),
    radial-gradient(2px 2px at 86% 72%, rgba(16,185,129,0.22) 50%, transparent 55%);
  pointer-events:none;
}
.hero-grid{
  display:grid;
  grid-template-columns:1.05fr 0.95fr;
  gap:52px;
  align-items:center;
}
.hero-copy{
  gap:28px;
  max-width:700px;
}
.hero-kicker{
  margin:0;
  font-size:12px;
  text-transform:uppercase;
  letter-spacing:0.14em;
  color:var(--text-muted);
  font-weight:700;
}
.hero-cta{
  gap:12px;
}
.btn-hero{
  padding:14px 26px;
  font-size:15px;
  min-width:220px;
  border-radius:999px;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  box-shadow:0 10px 18px rgba(15,23,42,0.12);
}
.btn-hero:hover{
  box-shadow:0 14px 22px rgba(15,23,42,0.14);
}
.hero-links{
  display:flex;
  flex-wrap:wrap;
  gap:14px;
  align-items:center;
  font-weight:700;
}
.hero-link{
  color:var(--green);
  text-decoration:none;
  border-bottom:1px dashed rgba(15,118,110,0.45);
  padding-bottom:2px;
}
.hero-link:hover{
  color:var(--green-hover);
  border-bottom-color:rgba(15,118,110,0.75);
}
.hero-party{
  gap:12px;
}
.hero-avatars{
  display:flex;
  gap:12px;
  flex-wrap:wrap;
}
.hero-avatars .avatar{
  width:108px;
  height:108px;
  border-radius:24px;
}
@media (max-width: 640px){
  .hero-slab{ padding:36px 0 20px; }
  .hero-copy{ gap:16px; }
  .hero-cta{
    flex-direction:column;
    align-items:stretch;
    width:100%;
  }
  .hero-cta .btn{
    width:100%;
    text-align:center;
    display:flex;
    justify-content:center;
  }
  .btn-hero{ width:100%; }
  .hero-grid{ gap:20px; }
  .hero-party{
    flex-direction:column;
    align-items:flex-start;
  }
  .hero-avatars{ gap:8px; }
  .hero-avatars .avatar{
    width:76px;
    height:76px;
    border-radius:18px;
  }
}
.hero-media{
  min-height:320px;
  display:flex;
  align-items:center;
  padding:14px;
  position:relative;
}
.hero-media--plain{
  padding:0;
  background:transparent;
  border:none;
  box-shadow:none;
}
@media (max-width: 640px){
  .hero-media{ min-height:0; padding:10px; }
  .hero-media--plain{ padding:0; }
  .hero-media-inner{ display:flex; justify-content:center; }
  .hero-image{
    width:min(100%, 320px);
    max-height:220px;
    object-fit:contain;
  }
}
.hero-media-inner{
  position:relative;
  width:100%;
}
.hero-image{
  width:100%;
  height:auto;
  display:block;
  border-radius:18px;
  image-rendering:auto;
  box-shadow:0 10px 20px rgba(15,23,42,0.14);
  transition:transform .25s ease, box-shadow .25s ease;
  will-change:transform;
}
.hero-media:hover .hero-image{
  transform:translateY(-4px) scale(1.02);
  box-shadow:0 14px 24px rgba(15,23,42,0.16);
}
@media (prefers-reduced-motion: no-preference){
  @media (max-width: 900px){
    .hero-media--plain .hero-image{
      animation:hero-float 6s ease-in-out infinite;
    }
  }
}
@keyframes hero-float{
  0%, 100%{ transform:translateY(0); }
  50%{ transform:translateY(-6px); }
}
.arena-points{
  display:grid;
  gap:16px;
}
.arena-point{
  padding:16px 18px;
  border-radius:var(--radius);
  border:var(--card-border);
  background:var(--card-surface);
  box-shadow:var(--shadow);
}
.arena-point p{
  margin:6px 0 0;
}
.hero-mascot{
  width:72px;
  height:auto;
  image-rendering:pixelated;
  flex-shrink:0;
  filter:drop-shadow(0 10px 18px rgba(15,23,42,0.18));
}
.path-label{
  margin:0;
  font-size:12px;
  text-transform:uppercase;
  letter-spacing:0.2em;
  font-family:var(--font-display), var(--font-body), sans-serif;
  color:var(--text-muted);
}
.path-grid{
  display:grid;
  grid-template-columns:repeat(3, minmax(0, 1fr));
  gap:20px;
}
.mode-grid{
  display:grid;
  grid-template-columns:repeat(2, minmax(0, 1fr));
  gap:20px;
}
.mode-card{
  gap:14px;
  min-height:260px;
}
.mode-steps{
  display:flex;
  flex-direction:column;
  gap:8px;
  margin-top:4px;
}
.mode-step{
  display:flex;
  align-items:center;
  gap:10px;
  color:var(--ink);
  font-size:14px;
}
.quest-card{
  display:flex;
  flex-direction:column;
  gap:10px;
  padding:24px;
  border-radius:var(--radius);
  border:var(--card-border);
  background:var(--card-surface);
  box-shadow:var(--shadow);
  transition:transform .15s ease, box-shadow .15s ease, border-color .15s ease;
}
.quest-card:hover{
  transform:translateY(-2px);
  border-color:rgba(15,118,110,0.35);
  box-shadow:0 22px 40px rgba(15,23,42,0.16);
}
.path-meta{
  text-transform:uppercase;
  letter-spacing:0.14em;
  font-size:11px;
  color:var(--text-muted);
  font-weight:700;
}
.inventory-grid{
  display:grid;
  grid-template-columns:repeat(2, minmax(0, 1fr));
  gap:14px;
}
.inventory-slot{
  display:flex;
  align-items:center;
  gap:10px;
  padding:14px 16px;
  border-radius:var(--radius);
  border:var(--card-border);
  background:var(--card-surface);
  box-shadow:var(--shadow);
  transition:transform .15s ease, box-shadow .15s ease, border-color .15s ease;
}
.inventory-slot:hover{
  transform:translateY(-2px);
  border-color:rgba(15,118,110,0.4);
  box-shadow:inset 0 2px 0 rgba(255,255,255,0.7), 0 14px 26px rgba(15,23,42,0.14);
}
.inventory-slot strong{ display:block; font-size:13px; color:var(--ink); }
.inventory-slot .muted{ font-size:12px; }
@media (max-width: 640px){
  .quest-card{ padding:18px; }
  .path-grid,
  .mode-grid,
  .steps-grid,
  .two-col,
  .split-grid{ gap:14px; }
  .mode-card{ min-height:0; }
  .path-meta{ font-size:10px; }
  .inventory-slot{ padding:12px 14px; }
  .inventory-slot strong{ font-size:12px; }
}
.slot-icon{
  width:20px;
  height:20px;
  background:var(--green);
  mask:var(--icon-mask) no-repeat center / contain;
  -webkit-mask:var(--icon-mask) no-repeat center / contain;
  flex-shrink:0;
}
.slot-icon--deck{
  --icon-mask:url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'><rect x='2' y='3' width='5' height='10' fill='black'/><rect x='9' y='3' width='5' height='10' fill='black'/><rect x='7' y='3' width='1' height='10' fill='black'/></svg>");
}
.slot-icon--key{
  --icon-mask:url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'><rect x='2' y='7' width='8' height='2' fill='black'/><rect x='10' y='6' width='2' height='4' fill='black'/><rect x='12' y='7' width='2' height='2' fill='black'/><rect x='3' y='4' width='3' height='3' fill='black'/><rect x='4' y='3' width='1' height='1' fill='black'/></svg>");
}
.slot-icon--party{
  --icon-mask:url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'><rect x='1' y='6' width='4' height='4' fill='black'/><rect x='6' y='4' width='4' height='4' fill='black'/><rect x='11' y='6' width='4' height='4' fill='black'/></svg>");
}
.slot-icon--mode{
  --icon-mask:url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'><rect x='7' y='1' width='2' height='4' fill='black'/><rect x='7' y='11' width='2' height='4' fill='black'/><rect x='1' y='7' width='4' height='2' fill='black'/><rect x='11' y='7' width='4' height='2' fill='black'/><rect x='6' y='6' width='4' height='4' fill='black'/></svg>");
}
.quest-panel{
  padding:48px 48px 54px;
  border-radius:24px;
  border:1px solid rgba(15,118,110,0.24);
  box-shadow:0 18px 36px rgba(15,23,42,0.1);
  position:relative;
}
.hero-panel{
  padding:56px 56px 64px;
}
@media (max-width: 640px){
  .quest-panel{ padding:20px; }
  .hero-panel{ padding:22px; }
}
.cta-panel{
  text-align:center;
  padding:0;
  background:transparent;
  border:none;
  box-shadow:none;
}
.cta-panel::after{
  display:none;
}
.cta-panel.panel--stone{
  background:transparent;
  border:none;
  box-shadow:none;
}
.quest-panel::after{
  content:"";
  position:absolute;
  inset:0;
  border-radius:24px;
  background:radial-gradient(500px 200px at 10% 0%, rgba(15,118,110,0.08), transparent 70%);
  pointer-events:none;
  opacity:0.6;
}
.quest-panel.cta-panel::after{
  display:none;
}
.quest-panel > *{ position:relative; z-index:1; }
.panel--stone{
  background:
    linear-gradient(180deg, rgba(248,250,252,0.98), rgba(226,232,240,0.95)),
    repeating-linear-gradient(135deg, rgba(148,163,184,0.12) 0, rgba(148,163,184,0.12) 1px, transparent 1px, transparent 10px);
  border-color:rgba(148,163,184,0.35);
  box-shadow:inset 0 2px 0 rgba(255,255,255,0.6), 0 24px 48px rgba(15,23,42,0.12);
}
.panel--parchment{
  background:
    linear-gradient(180deg, rgba(236,253,245,0.98), rgba(255,255,255,1)),
    repeating-linear-gradient(90deg, rgba(15,118,110,0.08) 0, rgba(15,118,110,0.08) 1px, transparent 1px, transparent 12px);
  border-color:rgba(15,118,110,0.32);
}
.panel--notice{
  background:
    linear-gradient(180deg, rgba(240,253,250,0.98), rgba(255,255,255,1)),
    repeating-linear-gradient(90deg, rgba(15,118,110,0.06) 0, rgba(15,118,110,0.06) 1px, transparent 1px, transparent 14px);
  border-color:rgba(15,118,110,0.24);
}
.panel--journal{
  background:
    repeating-linear-gradient(180deg, rgba(226,232,240,0.4) 0, rgba(226,232,240,0.4) 1px, transparent 1px, transparent 28px),
    linear-gradient(180deg, #F9FAFB, #F1F5F9);
  border-color:rgba(148,163,184,0.35);
}
.orn-divider{
  height:2px;
  width:100%;
  margin:28px 0 32px;
  background:linear-gradient(90deg, rgba(15,118,110,0), rgba(15,118,110,0.7), rgba(15,118,110,0));
  position:relative;
}
.orn-divider::after{
  content:"";
  position:absolute;
  left:50%;
  top:-6px;
  width:12px;
  height:12px;
  transform:translateX(-50%) rotate(45deg);
  border:2px solid rgba(15,118,110,0.6);
  background:#fff;
}
.slab{
  position:relative;
  padding:72px 0;
  z-index:0;
}
.slab > *{ position:relative; z-index:1; }
@media (max-width: 640px){
  .slab{ padding:40px 0; }
  .orn-divider{ margin:16px 0 20px; }
}
.slab--steps::before,
.slab--showcase::before,
.slab--features::before,
.slab--rating::before{
  content:"";
  display:none;
  position:absolute;
  left:-22px;
  right:-22px;
  top:0;
  bottom:0;
  border-radius:26px;
  z-index:-1;
}
.slab--steps::before{
  background:linear-gradient(120deg, rgba(15,118,110,0.10), rgba(15,118,110,0.02));
  border:1px solid rgba(15,118,110,0.14);
}
.slab--showcase::before{
  background:linear-gradient(120deg, rgba(15,118,110,0.1), rgba(255,255,255,0.1));
  border:1px solid rgba(15,118,110,0.18);
}
.slab--features::before{
  background:linear-gradient(120deg, rgba(15,23,42,0.04), rgba(255,255,255,0.3));
  border:1px solid rgba(15,23,42,0.08);
}
.slab--rating::before{
  background:linear-gradient(120deg, rgba(15,118,110,0.08), rgba(15,118,110,0.03));
  border:1px solid rgba(15,118,110,0.12);
}
.slab-header,
.section-header{
  display:flex;
  flex-direction:column;
  gap:6px;
  margin-bottom:32px;
  max-width:720px;
}
@media (max-width: 640px){
  .slab-header,
  .section-header{
    gap:4px;
    margin-bottom:20px;
  }
}
.section-title{
  font-size:clamp(22px, 2.8vw, 32px);
  margin:0;
  color:var(--ink);
  font-weight:900;
  font-family:var(--font-display), var(--font-body), sans-serif;
  letter-spacing:0.02em;
}
.pixel-title{
  font-family:var(--font-display), var(--font-body), sans-serif;
  letter-spacing:0.02em;
  line-height:1.25;
}
.pixel-ui .page-title,
.pixel-ui .section-title,
.pixel-ui .card-title,
.pixel-ui .hero-kicker,
.pixel-ui .badge,
.pixel-ui .btn,
.pixel-ui .path-meta,
.pixel-ui .path-label,
.pixel-ui .rating-score,
.pixel-ui .testimonial-author,
.pixel-ui .achievement-title{
  font-family:var(--font-display), var(--font-body), sans-serif;
}
.pixel-ui .btn{
  letter-spacing:0.04em;
  text-transform:uppercase;
  font-size:13px;
}
.pixel-ui .badge{
  letter-spacing:0.08em;
  font-size:10px;
}
.pixel-ui .card{
  background:var(--card-surface);
  border:var(--card-border);
  box-shadow:var(--shadow);
}
@media (max-width: 640px){
  .pixel-ui .btn{
    font-size:12px;
    letter-spacing:0.03em;
  }
  .pixel-ui .page-title,
  .pixel-ui .section-title{
    letter-spacing:0.01em;
  }
  .pixel-ui .card{
    box-shadow:0 10px 18px rgba(15,23,42,0.08);
  }
  .pixel-title{ line-height:1.15; }
}
.section-sub{
  margin:0;
  color:var(--text-muted);
}
@media (max-width: 640px){
  .section-title{
    font-size:clamp(18px, 5.6vw, 22px);
    line-height:1.15;
    max-width:24ch;
    text-wrap:balance;
  }
  .section-sub{
    font-size:14px;
    line-height:1.55;
    max-width:44ch;
  }
}
.chapter-head{
  display:flex;
  align-items:center;
  gap:16px;
  text-transform:uppercase;
  letter-spacing:0.22em;
  font-size:13px;
  color:var(--text-muted);
  font-weight:700;
  font-family:var(--font-display), var(--font-body), sans-serif;
}
.chapter-head--hero{
  font-size:15px;
}
@media (max-width: 640px){
  .chapter-head{
    flex-wrap:wrap;
    gap:8px;
    font-size:11px;
    letter-spacing:0.16em;
  }
  .chapter-head--hero{ font-size:12px; }
  .chapter-line{ flex-basis:100%; }
}
.chapter-pill{
  color:var(--green);
  font-family:var(--font-display), var(--font-body), sans-serif;
}
.chapter-title{
  color:var(--ink);
  font-family:var(--font-display), var(--font-body), sans-serif;
  font-size:14px;
}
.chapter-line{
  flex:1;
  height:1px;
  background:linear-gradient(90deg, rgba(15,118,110,0.4), rgba(15,118,110,0));
}
.quest-scroll{
  background:var(--card-surface);
  border:var(--card-border);
  position:relative;
}
.quest-scroll::before,
.quest-scroll::after{
  content:"";
  position:absolute;
  left:14px;
  right:14px;
  height:4px;
  background:linear-gradient(90deg, rgba(15,118,110,0.35), rgba(15,118,110,0));
  opacity:0.7;
}
.quest-scroll::before{ top:10px; }
.quest-scroll::after{ bottom:10px; }
.guide-card{
  display:flex;
  align-items:center;
  gap:12px;
  padding:12px 14px;
  border-radius:16px;
  border:2px solid rgba(15,118,110,0.35);
  background:linear-gradient(180deg, rgba(240,253,250,0.9), rgba(255,255,255,1));
  box-shadow:inset 0 2px 0 rgba(255,255,255,0.8), 0 12px 24px rgba(15,23,42,0.12);
  margin-top:22px;
}
.guide-card--inline{
  max-width:520px;
}
.guide-card--center{
  margin:24px auto 0;
  max-width:520px;
}
.feature-card{
  padding:24px;
  border-radius:var(--radius);
}
.steps-grid{
  display:grid;
  grid-template-columns:repeat(3, minmax(0, 1fr));
  gap:22px;
}
.steps-grid .muted{
  color:var(--green);
  font-weight:600;
}
.step{
  display:flex;
  gap:12px;
  align-items:flex-start;
  padding:24px;
  border-radius:var(--radius);
  border:var(--card-border);
  background:var(--card-surface);
  box-shadow:var(--shadow);
}
@media (max-width: 640px){
  .step{ padding:18px; }
}
@media (max-width: 640px){
  .step{ padding:18px; }
}
.split-grid{
  display:grid;
  grid-template-columns:0.95fr 1.05fr;
  gap:34px;
  align-items:center;
}
.split-grid.spacious{
  gap:36px;
}
.two-col{
  display:grid;
  grid-template-columns:repeat(2, minmax(0, 1fr));
  gap:22px 32px;
}
.rating-grid{
  align-items:start;
}
.rating-card{
  display:flex;
  flex-direction:column;
  gap:14px;
  justify-content:center;
  background:var(--card-surface);
}
.rating-row{
  display:flex;
  align-items:center;
  gap:12px;
  flex-wrap:wrap;
}
.rating-score{
  font-weight:800;
  color:var(--ink);
}
.star-row{
  display:flex;
  gap:6px;
  align-items:center;
}
.star{
  --star-mask:url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='13' height='13' viewBox='0 0 13 13' shape-rendering='crispEdges'><rect x='6' y='0' width='1' height='1' fill='white'/><rect x='5' y='1' width='3' height='1' fill='white'/><rect x='4' y='2' width='5' height='1' fill='white'/><rect x='3' y='3' width='7' height='1' fill='white'/><rect x='2' y='4' width='9' height='1' fill='white'/><rect x='0' y='5' width='5' height='1' fill='white'/><rect x='8' y='5' width='5' height='1' fill='white'/><rect x='0' y='6' width='4' height='1' fill='white'/><rect x='9' y='6' width='4' height='1' fill='white'/><rect x='0' y='7' width='3' height='1' fill='white'/><rect x='10' y='7' width='3' height='1' fill='white'/><rect x='2' y='8' width='2' height='1' fill='white'/><rect x='9' y='8' width='2' height='1' fill='white'/><rect x='3' y='9' width='2' height='1' fill='white'/><rect x='8' y='9' width='2' height='1' fill='white'/><rect x='4' y='10' width='5' height='1' fill='white'/><rect x='5' y='11' width='3' height='1' fill='white'/><rect x='6' y='12' width='1' height='1' fill='white'/></svg>");
  width:24px;
  height:24px;
  position:relative;
  background-color:var(--star-empty);
  mask:var(--star-mask) no-repeat center / contain;
  -webkit-mask:var(--star-mask) no-repeat center / contain;
  image-rendering:pixelated;
  overflow:hidden;
}
.star-fill{
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  background-color:var(--star-fill);
  mask:var(--star-mask) no-repeat center / contain;
  -webkit-mask:var(--star-mask) no-repeat center / contain;
}
.star--half .star-fill{
  clip-path:inset(0 50% 0 0);
}
.testimonial-card{
  display:flex;
  flex-direction:column;
  gap:10px;
  border:var(--card-border);
  background:var(--card-surface);
  position:relative;
}
.testimonial-card::before{
  content:"";
  position:absolute;
  left:0;
  top:16px;
  bottom:16px;
  width:4px;
  border-radius:999px;
  background:linear-gradient(180deg, var(--green), rgba(15,118,110,0.1));
}
.testimonial-card blockquote{
  margin:0;
  font-size:16px;
  color:var(--ink);
  line-height:1.6;
  padding-left:10px;
}
.testimonial-author{
  font-size:13px;
  color:var(--text-muted);
  font-weight:700;
  padding-left:10px;
}
.achievement-grid{
  display:grid;
  grid-template-columns:repeat(2, minmax(0, 1fr));
  gap:22px;
}
.achievement-card{
  padding:18px 20px;
  border-radius:var(--radius);
  display:flex;
  align-items:flex-start;
  gap:12px;
  transition:transform .2s ease, box-shadow .2s ease, opacity .2s ease;
}
.achievement-grid--compact{
  gap:14px;
}
.achievement-card--compact{
  padding:14px 16px;
}
.achievement-card--compact .achievement-title{
  font-size:14px;
}
.achievement-card--compact .muted{
  font-size:12px;
  line-height:1.4;
}
.achievement-card--locked{
  opacity:0.35;
  filter:grayscale(0.5);
  background:rgba(255,255,255,0.65);
  border:1px solid rgba(15,118,110,0.12);
  box-shadow:none;
}
.achievement-card--locked .achievement-icon{
  background:rgba(15,118,110,0.45);
}
.achievement-card--earned{
  opacity:1;
  transform:translateY(-2px);
  border:1px solid rgba(15,118,110,0.35);
  box-shadow:0 12px 28px rgba(15,118,110,0.2);
}
.achievement-note{
  margin-top:14px;
  font-size:12px;
}
.achievement-title{
  display:block;
  font-weight:800;
  color:var(--ink);
  margin-bottom:6px;
}
.achievement-icon{
  width:22px;
  height:22px;
  background:var(--green);
  mask:url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'><rect x='2' y='7' width='2' height='2' fill='black'/><rect x='4' y='9' width='2' height='2' fill='black'/><rect x='6' y='11' width='2' height='2' fill='black'/><rect x='8' y='9' width='2' height='2' fill='black'/><rect x='10' y='7' width='2' height='2' fill='black'/><rect x='12' y='5' width='2' height='2' fill='black'/></svg>") no-repeat center / contain;
  -webkit-mask:url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'><rect x='2' y='7' width='2' height='2' fill='black'/><rect x='4' y='9' width='2' height='2' fill='black'/><rect x='6' y='11' width='2' height='2' fill='black'/><rect x='8' y='9' width='2' height='2' fill='black'/><rect x='10' y='7' width='2' height='2' fill='black'/><rect x='12' y='5' width='2' height='2' fill='black'/></svg>") no-repeat center / contain;
  flex-shrink:0;
}
.achievement-rank{
  margin-left:auto;
  font-size:13px;
  color:var(--orange);
  letter-spacing:0.1em;
  font-weight:800;
}
.media-placeholder{
  border:1px dashed var(--border);
  border-radius:18px;
  background:#f6faf7;
  padding:20px;
  display:flex;
  align-items:center;
  justify-content:center;
  flex-direction:column;
  gap:6px;
  text-align:center;
  min-height:180px;
}
.media-placeholder strong{
  font-size:12px;
  letter-spacing:0.08em;
  text-transform:uppercase;
}
.media-placeholder-lg{
  min-height:300px;
}
.media-placeholder-xl{
  min-height:320px;
}
.cta-slab{
  text-align:center;
}
.cta-slab--glow{
  background:transparent;
  border:none;
}
@media (max-width: 900px){
  .hero-grid,
  .split-grid,
  .steps-grid,
  .two-col,
  .path-grid,
  .mode-grid,
  .achievement-grid,
  .inventory-grid{
    grid-template-columns:1fr;
  }
  .hero-media{
    min-height:240px;
  }
  .quest-panel{
    padding:28px;
  }
}

/* ================= HOW IT WORKS ================= */
.how-card{
  padding:36px;
}
.how-grid{
  display:grid;
  grid-template-columns:1.1fr 0.9fr;
  gap:32px;
  align-items:center;
}
.how-copy{
  gap:20px;
}
.how-steps{
  gap:16px;
}
.how-step{
  display:flex;
  align-items:flex-start;
  gap:12px;
}
.how-step p{
  margin:6px 0 0;
  max-width:520px;
}
.how-visual{
  display:flex;
  justify-content:center;
}
.rogue-hero{
  width:100%;
  max-width:240px;
  height:auto;
  image-rendering:pixelated;
}
@media (max-width: 900px){
  .how-grid{ grid-template-columns:1fr; }
  .how-visual{ order:-1; }
}

/* ================= LEADERBOARD ================= */
.leaderboard-card{
  padding:28px;
}
.leaderboard-head{
  display:flex;
  align-items:flex-end;
  justify-content:space-between;
  gap:16px;
  flex-wrap:wrap;
}
.leaderboard-meta{
  display:flex;
  align-items:center;
  gap:12px;
  flex-wrap:wrap;
}
.leaderboard-badge{
  display:inline-flex;
  align-items:center;
  gap:6px;
  padding:6px 12px;
  border-radius:999px;
  background:var(--green-soft);
  color:var(--green);
  font-weight:700;
  font-size:12px;
  text-transform:uppercase;
  letter-spacing:0.08em;
}
.leaderboard-note{
  font-size:12px;
  color:var(--text-muted);
}
.leaderboard-table{
  margin-top:18px;
  display:flex;
  flex-direction:column;
  gap:12px;
}
.leaderboard-row{
  display:grid;
  grid-template-columns:64px minmax(0, 1fr) 150px;
  align-items:center;
  gap:16px;
  padding:12px 16px;
  border:1px solid var(--border);
  border-radius:14px;
  background:rgba(255,255,255,0.75);
  position:relative;
}
.leaderboard-row.is-you{
  border-color:var(--green);
  background:linear-gradient(120deg, rgba(204,251,241,0.8), rgba(255,255,255,0.92));
  box-shadow:0 0 0 2px rgba(14,116,144,0.08);
}
.leaderboard-row.is-top-1 .leaderboard-rank,
.leaderboard-row.is-top-1 .leaderboard-name-text,
.leaderboard-row.is-top-1 .leaderboard-count{
  color:#B8860B;
}
.leaderboard-row.is-top-2 .leaderboard-rank,
.leaderboard-row.is-top-2 .leaderboard-name-text,
.leaderboard-row.is-top-2 .leaderboard-count{
  color:#8C93A3;
}
.leaderboard-row.is-top-3 .leaderboard-rank,
.leaderboard-row.is-top-3 .leaderboard-name-text,
.leaderboard-row.is-top-3 .leaderboard-count{
  color:#B87333;
}
.leaderboard-row.is-top-1{
  border-color:#E0C166;
  background:linear-gradient(120deg, rgba(255,246,214,0.65), rgba(255,255,255,0.95));
  box-shadow:0 16px 32px rgba(212,175,55,0.18), 0 0 0 1px rgba(212,175,55,0.22);
}
.leaderboard-row.is-top-2{
  border-color:#C8CEDC;
  background:linear-gradient(120deg, rgba(235,238,246,0.75), rgba(255,255,255,0.95));
  box-shadow:0 16px 32px rgba(169,176,188,0.2), 0 0 0 1px rgba(169,176,188,0.2);
}
.leaderboard-row.is-top-3{
  border-color:#D3A16B;
  background:linear-gradient(120deg, rgba(251,232,210,0.7), rgba(255,255,255,0.95));
  box-shadow:0 16px 32px rgba(205,127,50,0.2), 0 0 0 1px rgba(205,127,50,0.2);
}
.leaderboard-rank{
  font-family:var(--font-display), var(--font-body), sans-serif;
  font-weight:900;
  color:var(--ink);
  letter-spacing:0.02em;
}
.leaderboard-name{
  display:flex;
  align-items:center;
  gap:10px;
  min-width:0;
}
.leaderboard-avatar{
  width:32px;
  height:32px;
  border-radius:10px;
}
.leaderboard-name-text{
  font-weight:700;
  color:var(--ink);
  overflow:hidden;
  text-overflow:ellipsis;
  white-space:nowrap;
}
.leaderboard-you{
  padding:4px 10px;
  border-radius:999px;
  background:var(--green-soft);
  color:var(--green);
  font-weight:700;
  font-size:11px;
  letter-spacing:0.04em;
}
.leaderboard-count{
  text-align:right;
  font-weight:800;
  color:var(--ink);
}
.leaderboard-count-label{
  display:block;
  font-size:11px;
  color:var(--text-muted);
  font-weight:600;
  letter-spacing:0.04em;
  text-transform:uppercase;
}
.leaderboard-empty{
  margin-top:18px;
  padding:18px;
  border-radius:12px;
  border:1px dashed var(--border);
  background:rgba(255,255,255,0.7);
}
.leaderboard-empty-actions{
  margin-top:14px;
  display:flex;
  flex-wrap:wrap;
  gap:14px;
  align-items:center;
}
.leaderboard-empty-link{
  font-weight:700;
  color:var(--green);
  text-decoration:none;
  border-bottom:1px dashed rgba(15,118,110,0.45);
  padding-bottom:2px;
}
.leaderboard-empty-link:hover{
  color:var(--green-hover);
  border-bottom-color:rgba(15,118,110,0.75);
}
.leaderboard-foot{
  margin-top:18px;
  display:flex;
  flex-direction:column;
  gap:6px;
}
.leaderboard-rank-number{
  color:var(--ink);
}
@media (max-width: 720px){
  .leaderboard-row{
    grid-template-columns:48px minmax(0, 1fr);
  }
  .leaderboard-count{
    text-align:left;
  }
}

/* ================= FULL-BLEED ================= */
.bleed{ width:100vw; margin-left:calc(50% - 50vw); margin-right:calc(50% - 50vw); }

/* ================= BANNER ================= */
.banner{ background:#efe2d4; padding:36px 0; border-bottom:2px solid #111; }
.banner-inner{ max-width:var(--maxw); margin:0 auto; padding:0 24px; }
.banner-img{ width:100%; height:auto; display:block; }

/* ================= HERO ================= */
.hero-wrap{
  position:relative;
  background:#fff;
  overflow:hidden;
}
.hero-wrap::after{ display:none; }
@keyframes hero-drift{ 0%{ transform:translateY(0) } 100%{ transform:translateY(-64px) } }
@media (prefers-reduced-motion: reduce){ .hero-wrap::after{ animation:none; } }

.hero{
  display:grid;
  grid-template-columns:1.05fr .95fr;
  grid-template-rows:auto 1fr;
  gap:36px;
  align-items:center;
  padding:72px 0 56px;
  max-width:var(--maxw);
  margin:0 auto;
  padding-left:24px; padding-right:24px;
}
.hero > .hero-title{
  grid-column:1 / -1; margin:0 0 10px;
  line-height:1.1; font-weight:900;
  font-size:clamp(40px, 5.6vw, 64px);
  white-space:normal;
}
.hero img{ width:100%; max-height:420px; object-fit:cover; border-radius:16px; }
.hero .split__frame{ padding:12px; border-radius:22px; }
.hero .split__title{ font-size:clamp(40px, 5.6vw, 64px); }
.hero .split__lead{ font-size:clamp(16px, 1.6vw, 20px); }
@media (max-width: 820px){
  .hero{ grid-template-columns:1fr; grid-template-rows:auto auto auto; gap:20px; }
  .hero > .hero-title{ white-space:normal; }
}

.hero-divider{ display:block; width:100%; height:56px; position:relative; margin-top:-20px; }

/* ================= SPLIT SECTIONS (two-column) ================= */
.split-wrap{ /* optional full-bleed background wrapper */
  width:100vw;
  margin-left:calc(50% - 50vw);
  margin-right:calc(50% - 50vw);
}
.split-wrap.tinted{ background:var(--green-soft); }
.split-wrap.dark{ background:#2b1e14; color:#fff; }

.split{
  display:grid;
  grid-template-columns:1.05fr .95fr;
  gap:40px;
  align-items:center;
  max-width:var(--maxw);
  margin:0 auto;
  padding:80px 24px;
}
.split__title{ font-size:clamp(32px, 4vw, 44px); line-height:1.15; margin:0 0 10px; font-weight:900; }
.split__lead{ margin:0 0 14px; opacity:.92; }
.split__bullets{ list-style:none; padding:0; margin:12px 0 0; }
.split__bullets li{ display:flex; gap:10px; align-items:flex-start; margin:8px 0; }
.split__dot{ width:8px; height:8px; background:var(--orange); border-radius:999px; margin-top:9px; flex:0 0 8px; }

.split__visual{
  position:relative;
}
.split__frame{ background:#fff; border-radius:22px; border:1px solid var(--border); box-shadow:none; padding:14px; }
.split__frame img{ width:100%; height:auto; display:block; border-radius:16px; object-fit:cover; }

.value-wrap{ background:var(--green-soft); }
.value{ max-width:var(--maxw); margin:0 auto; padding:72px 24px; }
.value h2{ font-size:clamp(32px, 4.2vw, 48px); margin:0 0 8px; font-weight:900; color:var(--brown); }
.value__grid{ display:grid; grid-template-columns:repeat(auto-fit, minmax(220px, 1fr)); gap:20px; margin-top:20px; }
.value__item{ background:#fff; border:1px solid var(--border); border-radius:18px; padding:18px; box-shadow:none; }
.value__icon{ width:40px; height:40px; display:flex; align-items:center; justify-content:center; border-radius:999px; background:#FFF2E5; border:1px solid #f4d8be; font-size:20px; margin-bottom:10px; }
.value__title{ font-weight:900; margin-bottom:6px; }

.split--reverse .split__copy{ order:2; }
.split--reverse .split__visual{ order:1; }

@media (max-width: 900px){
  .split{ grid-template-columns:1fr; padding:56px 20px; }
  .split--reverse .split__copy{ order:1; }
  .split--reverse .split__visual{ order:2; }
}

/* =================  TICKER ================= */
.ticker{ background:var(--green); color:#fff; width:100vw; overflow:hidden; display:block; }
.ticker__mask{ position:relative; width:100%; overflow:hidden; }
.ticker__track{ display:inline-flex; width:max-content; animation:none; }
.ticker__row{ display:inline-flex; gap:clamp(40px, 6vw, 140px); padding:clamp(14px, 2.4vw, 26px) clamp(32px, 4vw, 56px); white-space:nowrap; }
.ticker__item{ font-weight:800; font-size:clamp(18px, 2.4vw, 28px); line-height:1; }
@media (prefers-reduced-motion: reduce){ .ticker__track{ animation:none } }

/* ================= FEATURES ================= */
.section .grid3{ display:grid; grid-template-columns:repeat(auto-fit, minmax(var(--feature-minw), 1fr)); gap:var(--feature-gap); align-items:stretch; grid-auto-rows:minmax(var(--feature-minh), auto); }
.section .feature{ display:flex; flex-direction:column; gap:12px; padding:var(--feature-pad); border-radius:22px; box-shadow:none; background:#fff; font-size:18px; line-height:1.7; min-height:var(--feature-minh); transition:none; border:1px solid var(--border); }
.section .feature:hover{ transform:none; box-shadow:none }
.section .feature h4{ font-size:28px; font-weight:800; margin:0 0 12px; }
.section .feature p{ font-size:18px; margin:0; color:var(--brown); opacity:.9; }

@media (max-width: 900px){ .section .grid3{ grid-template-columns:repeat(2, minmax(260px, 1fr)); } }
@media (max-width: 600px){ .section .grid3{ grid-template-columns:1fr; } }

/* ================= PRACTICE CARD ================= */
.sticky-tools { margin-top:12px; margin-bottom:24px; }

.demo-grid{
  display:flex;
  justify-content:center;
  align-items:stretch;
  gap:40px;
  flex-wrap:wrap;
  margin-top:24px;
  margin-bottom:56px;
}

.demo-card{
  width:100%;
  max-width:1080px;   /* was 880px */
  min-height:680px;   /* was 560px */
  margin:56px auto;   /* was 48px auto */
  background:#fff;
  border:1px solid var(--border);
  border-radius:28px; /* was 26px */
  box-shadow:none;
  padding:64px 72px;  /* was 56px 64px */
  text-align:left;
}

.demo-pill{
  width:min(800px, 100%); /* was 640px */
  background:var(--green-soft);
  border-radius:999px;
  padding:18px 22px;   /* was 16px 20px */
  margin:0 auto 20px;  /* was 16px */
  font-weight:800;
  text-align:center;
  font-size:24px;      /* was 22px */
}

.demo-q{
  margin:24px 0 30px;  /* was 18px 0 26px */
  font-size:24px;      /* was 22px */
  line-height:1.6;     /* was 1.5 */
  text-align:center;
  color:var(--brown);
  font-weight:700;
}

.demo-options{ list-style:none; padding:0; margin:28px auto 0; max-width:800px; } /* was 720px */
.demo-option{
  display:flex;
  gap:14px;            /* was 12px */
  align-items:flex-start;
  font-size:22px;      /* was 20px */
  line-height:1.7;     /* was 1.6 */
  padding:14px 16px;   /* was 12px 14px */
  border-radius:16px;  /* was 14px */
  border:1px solid var(--border);
  background:#fff;
  transition:none;
}
.demo-option + .demo-option{ margin-top:12px; } /* was 10px */
.demo-option:hover{ background:var(--green-soft); border-color:var(--border); box-shadow:none; }
.opt-label{ font-weight:800; margin-right:10px; min-width:auto; text-align:left; }
.opt-text{ flex:1; }

/* difficulty pill */
.diff-pill{
  display:inline-flex; align-items:center; gap:8px;
  padding:6px 10px; border-radius:999px; font-size:12px; font-weight:800;
  border:1px solid #f4d8be; background:#fff7ee; color:#8a4f2f;
}
.diff-pill .dot{ width:8px; height:8px; border-radius:999px; background:#bbb; }
.diff-pill.easy .dot{ background:#54a46e; }
.diff-pill.medium .dot{ background:#f3a13b; }
.diff-pill.hard .dot{ background:#d15b4f; }

/* QC layout */
.qc-wrap{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:20px;               /* was 16px */
  max-width:800px;        /* was 720px */
  margin:0 auto 24px;     /* was 18px */
}
.qc-col{ text-align:left; }
.qc-title{
  font-weight:900; font-size:14px; /* was 13px */
  letter-spacing:.5px;
  color:#8a4f2f; text-transform:uppercase; margin:0 0 8px;
}
.qc-box{
  border:1px solid var(--border);
  border-radius:16px;  /* was 14px */
  padding:18px 20px;   /* was 14px 16px */
  background:#fff;
  min-height:72px;     /* was 64px */
  box-shadow:none;
}
.qc-wrap + .demo-options{ margin-top:16px; } /* was 12px */

@media (max-width: 820px){
  .demo-card{ padding:32px 26px; min-height:0; }
  .demo-q{ font-size:22px; }
  .demo-options{ max-width:100%; }
.qc-wrap{ grid-template-columns:1fr; }
}

/* ================= LIFESTYLE ================= */
.lifestyle{ display:grid; grid-template-columns:1fr 0.9fr; gap:24px; align-items:center; }
.lifestyle-text h3{ font-size:clamp(32px, 4vw, 46px); margin-bottom:12px; }
.lifestyle-text p{ font-size:clamp(18px, 2vw, 22px); line-height:1.6; }
.lifestyle-image img{ width:67.5%; max-height:320px; object-fit:cover; border-radius:var(--radius); margin:0 auto; }

/* ================= MISC / PRICING ================= */
.row{ display:flex; gap:16px; flex-wrap:wrap; justify-content:center; }
.cta-row{ justify-content:flex-start; }
@media (max-width: 640px){
  .cta-row{
    flex-direction:column;
    align-items:stretch;
  }
  .cta-row .btn{
    width:100%;
    text-align:center;
  }
}
.section{ padding:80px 0 } .center{ text-align:center }
@media (max-width: 640px){ .section{ padding:56px 0; } }
.section.center h2{ font-size:clamp(36px, 5vw, 60px); font-weight:800; margin-bottom:12px; color:var(--brown); }

.pricing{ padding:80px 0; text-align:center; }
.pricing .sub{ margin-top:6px; opacity:.85; }
.pricing-grid{ display:grid; grid-template-columns:repeat(2, minmax(260px, 1fr)); gap:28px; max-width:1000px; margin:28px auto 0; align-items:stretch; }
@media (max-width: 640px){
  .pricing-grid{ grid-template-columns:1fr; gap:20px; }
}

.compare-grid{ margin-top:24px; }
.compare-card{
  text-align:left;
  border-radius:20px;
  padding:22px;
}
.compare-card--pro{
  background:var(--green-soft);
  border-color:rgba(15,118,110,0.25);
}
.compare-pill{
  display:inline-flex;
  align-items:center;
  gap:6px;
  padding:6px 12px;
  border-radius:999px;
  font-weight:800;
  font-size:12px;
  letter-spacing:0.08em;
  text-transform:uppercase;
  background:#fff;
  border:1px solid var(--border);
  color:var(--ink);
}
.compare-pill--pro{
  background:#e8fbf7;
  border-color:rgba(15,118,110,0.3);
  color:var(--green);
}
.compare-list{
  list-style:none;
  padding:0;
  margin:16px 0 0;
  display:grid;
  gap:10px;
}
.compare-item{
  display:flex;
  gap:10px;
  align-items:flex-start;
  color:var(--ink);
}
.compare-dot{
  width:8px;
  height:8px;
  border-radius:999px;
  background:var(--orange);
  margin-top:7px;
}
.compare-dot--pro{
  background:var(--green);
}

.plan{ position:relative; border-radius:28px; padding:28px 28px 32px; background:#fff; border:1px solid var(--border); box-shadow:none; transition:none; }
.plan:hover{ transform:none; box-shadow:none; border-color:var(--border); }
.plan--pro{ background:var(--green-soft); }

.plan__badge{ position:absolute; top:14px; right:16px; background:var(--orange); color:#fff; font-weight:800; padding:6px 12px; border-radius:999px; font-size:12px; letter-spacing:.4px; }
.plan__title{ font-size:28px; font-weight:900; margin:0 0 6px; }
.plan__price{ display:flex; align-items:flex-end; gap:6px; margin:10px 0 14px; justify-content:center; }
.plan__price .num{ font-size:40px; font-weight:900; }
.plan__price .per{ opacity:.8; margin-bottom:6px; }
.plan__blurb{ font-size:16px; opacity:.95; margin-bottom:16px; }
.plan__features{ list-style:none; padding:0; margin:0 0 22px; text-align:left; max-width:480px; margin-inline:auto; }
.plan__features li{ display:flex; gap:10px; align-items:flex-start; margin:8px 0; }
.plan__dot{ width:8px; height:8px; background:var(--orange); border-radius:999px; margin-top:9px; }

.plan__cta{ display:inline-flex; align-items:center; justify-content:center; padding:12px 18px; border-radius:999px; font-weight:800; background:var(--orange); color:#fff; text-decoration:none; transition:none; }
.plan__cta:hover{ transform:none; box-shadow:none; background:var(--green-hover); }

/* ================= REVEAL (scroll-in) ================= */
.reveal{ opacity:1; transform:none; transition:none; }
.reveal.is-visible{ opacity:1; transform:none; }

/* ================= METRICS ================= */
.metrics{ background:#fff; }
.metrics-inner{ max-width:var(--maxw); margin:0 auto; padding:56px 24px; display:grid; gap:24px; }
.metrics-grid{ display:grid; grid-template-columns:repeat(3, minmax(160px, 1fr)); gap:18px; }
.metric{ background:#fff; border:1px solid var(--border); border-radius:18px; padding:18px; text-align:center; box-shadow:none; }
.metric__num{ font-weight:900; font-size:clamp(28px, 4vw, 42px); color:var(--brown); }
.metric__label{ margin-top:4px; opacity:.85; }
.metrics .sub{ text-align:center; opacity:.9; margin:0 0 4px; }
.metrics h3{ text-align:center; font-size:clamp(28px, 4vw, 40px); margin:0; }

/* ===================== */
/*  Math Rendering        */
/* ===================== */
.katex, .mathjax-svg{
  -webkit-font-smoothing: antialiased;
  font-smooth: always;
  font-family: 'KaTeX_Main','Cambria Math','Latin Modern Math','STIX Two Math',serif;
}
.katex-display{
  margin: 14px 0;
  display: block;
  transform: scale(1.03);
  transform-origin: left top;
}
.rich-text .katex-display{ margin: 10px 0; }
.rich-text .katex{ font-size: 1.05em; }
.mathjax-pending{
  font-family: 'Cambria Math','Latin Modern Math','Times New Roman',serif;
  opacity: 0.9;
}
.mathjax-svg svg{
  max-width: 100%;
  height: auto;
}

/* ===================== */
/*  Loader (APPENDED)    */
/* ===================== */
.loader-wrap {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: 300px;
  text-align: center;
}

.loader-title {
  margin: 10px 0 6px;
  font-size: 22px;
  font-weight: 900;
  color: var(--brown);
}

.loader-sub {
  margin: 0;
  opacity: 0.8;
  font-size: 16px;
}

/* Bouncy bubbles animation */
.loader-bubbles {
  position: relative;
  height: 30px;
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 14px;
}
.loader-bubbles span {
  width: 14px;
  height: 14px;
  border-radius: 999px;
  background: var(--orange);
  display: inline-block;
  animation: none;
  box-shadow: none;
}
.loader-bubbles .b1 { animation-delay: 0s; }
.loader-bubbles .b2 { animation-delay: 0.12s; }
.loader-bubbles .b3 { animation-delay: 0.24s; }

@media (prefers-reduced-motion: reduce){ .loader-bubbles span{ animation:none; } }
